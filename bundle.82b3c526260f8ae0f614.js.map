{"version":3,"sources":["webpack:///bundle.82b3c526260f8ae0f614.js","webpack:///webpack/bootstrap 82b3c526260f8ae0f614","webpack:///./src/index.js","webpack:///./src/style/style.css?7890","webpack:///./src/style/style.css","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/Filters.js","webpack:///./src/index.html"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","preventDefault","event","window","clearActive","tar","oUl","getElementsByClassName","classList","remove","dropHandler","oFile","dataTransfer","files","oReader","FileReader","test","type","this","add","onload","console","log","oImg","Image","iWid","width","iHei","height","oCanvas","oMat","oCtx","drawImage","oFliter","_Filters2","default","src","result","readAsDataURL","applyPresetFliter","target","srcElement","tagName","toLocaleLowerCase","filterName","getAttribute","putImageData","applyMat","aInputs","getElementsByTagName","mat","val","len","length","value","Number","isNaN","push","conv","checkInput","replace","postInput","keyCode","apply","_Filters","obj","$","id","document","getElementById","oDropper","oBtn","getContext","addEventListener","content","options","transform","locals","undefined","cssWithMappingToString","item","useSourceMap","cssMapping","btoa","sourceMapping","toComment","concat","sources","map","source","sourceRoot","join","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","toString","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","base","css","media","part","insertStyleElement","style","getElement","insertInto","Error","lastStyleElementInsertedAtTop","stylesInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","addAttrs","createLinkElement","link","rel","el","keys","forEach","key","setAttribute","update","singleton","styleIndex","singletonCounter","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","fixUrls","blob","oldSrc","isOldIE","fn","memo","arguments","all","atob","selector","querySelector","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","unquotedOrigUrl","trim","$1","newUrl","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","Filters","img","canvas","ctx","x","y","w","h","getImageData","imgData","data","r","g","b","v","threshold","Math","abs","deta","gaussBlur","radius","sigma","order","a","PI","gaussMat","Array","gaussSum","exp","imgGrey","greyScale","imgInvert","invert","copyImageData","imgBlur","dataBlur","v1","v2","k","divisor","outputImg","createImageData","outData","floor","z","convSum","matIndex","rowIndex","colIndex"],"mappings":"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","file":"bundle.82b3c526260f8ae0f614.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(1);\n\nvar _Filters = __webpack_require__(6);\n\nvar _Filters2 = _interopRequireDefault(_Filters);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(7); //改变html，webpack-dev-server无法监听html，通过require方法通知\n\n\n//获取id\nvar $ = function $(id) {\n    return \"string\" === typeof id ? document.getElementById(id) : id;\n};\n//获取页面元素\nvar oCanvas = $('canvas'),\n    oDropper = $('wrapper'),\n    oUl = $('filter-li'),\n    oMat = $('mat-con'),\n    oBtn = $('apply-btn'),\n    oCtx = oCanvas.getContext && oCanvas.getContext('2d'),\n    oFliter = null;\n\n//绑定事件\noUl.addEventListener('click', applyPresetFliter, false);\n//oDropper在dragenter阶段需要取消默认行为\noDropper.addEventListener('dragenter', preventDefault, false);\noDropper.addEventListener('dragover', preventDefault, false);\noDropper.addEventListener('drop', dropHandler, false);\n\noMat.addEventListener('input', checkInput, false);\noMat.addEventListener('keyup', postInput, false);\noBtn.addEventListener('click', applyMat, false);\n\n//取消默认事件\nfunction preventDefault(event) {\n    var evt = event || window.event;\n    evt.preventDefault();\n}\nfunction clearActive() {\n    var tar = oUl.getElementsByClassName('active')[0];\n    if (tar) {\n        tar.classList.remove('active');\n    }\n}\n//drop放置事件处理函数\nfunction dropHandler(event) {\n    preventDefault(event);\n    //获取文件\n    var oFile = event.dataTransfer.files[0],\n        oReader = new FileReader();\n    //读取image\n    if (/image/.test(oFile.type)) {\n\n        //取消拖放提示\n        this.classList.add('active');\n        //读完文件\n        oReader.onload = function () {\n            console.log(oFile);\n            //创建image对象保存图片\n            var oImg = new Image();\n\n            oImg.onload = function () {\n                var iWid = this.width,\n                    iHei = this.height;\n                oCanvas.classList.remove('init');\n                oMat.classList.add('active');\n                clearActive();\n                oCanvas.width = iWid; //要注意使用canvasobj.width设置width，否则会图片会变形\n                oCanvas.height = iHei;\n                oCtx.drawImage(oImg, 0, 0, iWid, iHei);\n\n                //创建滤镜对象\n                oFliter = new _Filters2.default(this);\n            };\n            oImg.src = oReader.result;\n        };\n\n        oReader.readAsDataURL(oFile);\n    }\n}\n\n//应用预置滤镜\nfunction applyPresetFliter(event) {\n    var tar = event.target || event.srcElement;\n    //事件委托\n    if (tar.tagName.toLocaleLowerCase() === 'li') {\n\n        var filterName = tar.getAttribute('data-filter');\n\n        if (oFliter) {\n            clearActive();\n            oCtx.putImageData(oFliter[filterName](), 0, 0);\n            console.log('apply ' + filterName);\n            tar.classList.add('active');\n        }\n    }\n}\n\n//应用矩阵卷积\nfunction applyMat() {\n    var aInputs = oMat.getElementsByTagName('input'),\n        mat = [],\n        val = void 0;\n    for (var i = 0, len = aInputs.length; i < len; i++) {\n        val = aInputs[i].value - 0;\n        if (Number.isNaN(val)) {\n            val = 0;\n        }\n        aInputs[i].value = val;\n        mat.push(val);\n    }\n    clearActive();\n    oCtx.putImageData(oFliter.conv(mat), 0, 0);\n}\n\n//输入矩阵校验\nfunction checkInput(event) {\n    var tar = event.target || event.srcElement;\n    if (tar.tagName.toLocaleLowerCase() === 'input') {\n        tar.value = tar.value.replace(/[^\\+\\/\\-\\d\\.]*/g, '');\n    }\n}\n//enter提交\nfunction postInput(event) {\n    var tar = event.target || event.srcElement;\n    if (tar.tagName.toLocaleLowerCase() === 'input') {\n        if (event.keyCode === 13) {\n            applyMat.apply(this);\n        }\n    }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(4)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(3)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"/*css reset*/\\r\\n/**, *:before, *:after{*/\\r\\n    /*box-sizing: inherit;*/\\r\\n/*}*/\\r\\n/*html{*/\\r\\n    /*box-sizing: border-box;*/\\r\\n    /*font-size: 16px;*/\\r\\n/*}*/\\r\\nbody,div,ul,li{ margin:0;padding: 0; }\\r\\nli{ list-style: none; }\\r\\nimg{ border: 0 none; }\\r\\na{ text-decoration: none; }\\r\\n\\r\\n/*commom css*/\\r\\n.clear { zoom:1; }\\r\\n.clear:after { content:''; display:block; clear:both; }\\r\\n\\r\\n.container{ /*min-width: 500px;*/margin-left: auto;margin-right: auto;}\\r\\n@media (min-width: 768px){  .container {  width: 750px;  }  }\\r\\n@media (min-width: 992px){  .container {  width: 970px;  }    }\\r\\n@media (min-width: 1200px){  .container {  width: 1170px;  }  }\\r\\n.txt_center{  text-align: center;  }\\r\\n\\r\\n\\r\\n\\r\\n/*content css*/\\r\\nbody{\\r\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Microsoft Yahei,sans-serif;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\nheader{\\r\\n    padding: 1em 2em;\\r\\n    color: #cdbfe3;\\r\\n    text-shadow: 0 1px 0 rgba(0,0,0,.1);\\r\\n    background-color: #6f5499;\\r\\n    background-image: linear-gradient(to bottom,#563d7c 0,#6f5499 100%);\\r\\n}\\r\\n/*header .container{padding: 15px 30px;}*/\\r\\nheader h1{font-size: 30px;color: #fff;}\\r\\nheader p{font-size: 18px;}\\r\\n\\r\\n/*预置滤镜选项*/\\r\\n.preset{\\r\\n    /*margin-top: 20px;*/\\r\\n    background: #f5f5f5;\\r\\n    padding: 10px 0;\\r\\n}\\r\\n.preset ul{text-align: center;margin: 0 auto;}\\r\\n.preset li{\\r\\n    display: inline-block;\\r\\n    width: 10%;\\r\\n    min-width: 4em;\\r\\n    _float: left;\\r\\n    margin: 4px 6px;\\r\\n    padding: 6px 12px;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    border: 1px solid #000;\\r\\n\\r\\n}\\r\\n/*@media (max-width: 540px){*/\\r\\n    /*.preset li{*/\\r\\n        /*display: block;*/\\r\\n        /*float: none;*/\\r\\n    /*}*/\\r\\n/*}*/\\r\\n.preset li:hover,.preset .active{\\r\\n    background-color: #6f5499;\\r\\n    color: #fff;\\r\\n}\\r\\n.preset span{\\r\\n/*    display: table-cell;\\r\\n    float: left;\\r\\n    width: 100%;*/\\r\\n}\\r\\n\\r\\n/*图像显示部分*/\\r\\n/*画布背景*/\\r\\n.content{\\r\\n    margin-top: 20px;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n    border: 1px solid #C3C3C3;\\r\\n    background: #e9e9e9;\\r\\n    background-image: -webkit-linear-gradient(top, transparent 39px, rgba(200, 200, 200, 0.5) 40px), -webkit-linear-gradient(left, transparent 39px, rgba(200, 200, 200, 0.5) 40px);\\r\\n    background-size: 40px 40px;\\r\\n    /*max-height: 540px;*/\\r\\n    /*min-height: 300px;*/\\r\\n}\\r\\n/*画布*/\\r\\n/*画布默认大小*/\\r\\n.init{\\r\\n    width: 640px;\\r\\n    height: 480px;\\r\\n}\\r\\n.content canvas{\\r\\n    display: block;\\r\\n    margin: 0 auto;\\r\\n    border: 1px solid rgba(0,0,0,0.5);\\r\\n    background: #fff;\\r\\n}\\r\\n/*拖放提示*/\\r\\n.tip{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n}\\r\\n#wrapper.active .tip{\\r\\n    display: none;\\r\\n}\\r\\n/*用与canvas同大小的div作为放置目标*/\\r\\n/*#dropper{*/\\r\\n    /*display: none;*/\\r\\n    /*position: absolute;*/\\r\\n    /*width: 640px;*/\\r\\n    /*height: 480px;*/\\r\\n    /*top: 50%;*/\\r\\n    /*left: 50%;*/\\r\\n    /*margin: -240px -320px;*/\\r\\n    /*line-height: 480px;*/\\r\\n    /*text-align: center;*/\\r\\n    /*background: #ff0;           !*调试背景色*!*/\\r\\n/*}*/\\r\\n/*#dropper span{*/\\r\\n    /*display: none;*/\\r\\n/*}*/\\r\\n/*#dropper.active, #dropper.tip span{*/\\r\\n    /*display: block;*/\\r\\n/*}*/\\r\\n\\r\\n/*矩阵输入表单*/\\r\\n.mat-con {\\r\\n    /*display: none;*/\\r\\n    position: absolute;\\r\\n    z-index: 99;\\r\\n    top: 2em;\\r\\n    right: 2em;\\r\\n    /*bottom: 2em;*/\\r\\n    text-align: center;\\r\\n    background: rgba(0,0,0,0.4);\\r\\n}\\r\\n.mat-con.active{\\r\\n    display: block;\\r\\n}\\r\\n.mat-con div{\\r\\n    width: 10em;\\r\\n}\\r\\n.mat-con input{\\r\\n    width: 2em;\\r\\n    margin: 5px;\\r\\n}\\r\\n.mat-con button{\\r\\n    border: none;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n    padding: 4px 6px;\\r\\n    margin: 4px 0;\\r\\n    cursor: pointer;\\r\\n}\\r\\n.mat-con button:hover{\\r\\n    background: #fff;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif (item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function (modules, mediaQuery) {\n\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t}\n\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(5);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n\t// get current location\n\tvar location = typeof window !== \"undefined\" && window.location;\n\n\tif (!location) {\n\t\tthrow new Error(\"fixUrls requires window.location\");\n\t}\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t\treturn css;\n\t}\n\n\tvar baseUrl = location.protocol + \"//\" + location.host;\n\tvar currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n This regular expression is just a way to recursively match brackets within\n a string.\n \t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n    (  = Start a capturing group\n      (?:  = Start a non-capturing group\n          [^)(]  = Match anything that isn't a parentheses\n          |  = OR\n          \\(  = Match a start parentheses\n              (?:  = Start another non-capturing groups\n                  [^)(]+  = Match anything that isn't a parentheses\n                  |  = OR\n                  \\(  = Match a start parentheses\n                      [^)(]*  = Match anything that isn't a parentheses\n                  \\)  = Match a end parentheses\n              )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n  \\)  = Match a close parens\n \t /gi  = Get all matches, not the first.  Be case insensitive.\n  */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function (fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl.trim().replace(/^\"(.*)\"$/, function (o, $1) {\n\t\t\treturn $1;\n\t\t}).replace(/^'(.*)'$/, function (o, $1) {\n\t\t\treturn $1;\n\t\t});\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t\treturn fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t\t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Created by 风稻人 on 2017/7/1.\r\n */\n\nvar Filters = function () {\n    //构造函数，每个实例保存原始图片数据\n    function Filters(img) {\n        _classCallCheck(this, Filters);\n\n        //创建一个canvas保存原始图像\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.img = img;\n        this.width = img.width;\n        this.height = img.height;\n        this.canvas.width = img.width;\n        this.canvas.height = img.height;\n        this.ctx.drawImage(this.img, 0, 0, this.width, this.height);\n    }\n    //获取图像数据\n\n\n    _createClass(Filters, [{\n        key: 'getImageData',\n        value: function getImageData(x, y, w, h) {\n            return this.ctx.getImageData(x || 0, y || 0, w || this.width, h || this.height);\n        }\n\n        //img图像数据通过canvas复制一份\n\n    }, {\n        key: 'copyImageData',\n        value: function copyImageData(imgData) {\n            imgData = imgData || this.getImageData();\n            var canvas = document.createElement('canvas'),\n                ctx = canvas.getContext('2d'),\n                w = imgData.width,\n                h = imgData.height;\n            canvas.width = w;\n            canvas.height = h;\n            ctx.putImageData(imgData, 0, 0);\n            return ctx.getImageData(0, 0, w, h);\n        }\n        //灰度\n\n    }, {\n        key: 'greyScale',\n        value: function greyScale(imgData) {\n            //图片像素数据\n            imgData = imgData || this.getImageData();\n            var data = imgData.data,\n                r = void 0,\n                g = void 0,\n                b = void 0,\n                v = void 0;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                r = data[i];g = data[i + 1];b = data[i + 2];\n                //加权取值\n                v = .299 * r + .587 * g + .114 * b;\n                data[i] = data[i + 1] = data[i + 2] = v;\n            }\n            return imgData;\n        }\n        //黑白效果，二值化\n\n    }, {\n        key: 'black',\n        value: function black(imgData) {\n            var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n\n            imgData = imgData || this.getImageData();\n            var data = imgData.data,\n                v = void 0;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                //v = (.2 * data[i] + .7 * data[i + 1] + .1 * data[i + 2]) >= threshold ? 255 : 0;\n                v = .3 * data[i] + .6 * data[i + 1] + .1 * data[i + 2] >= threshold ? 255 : 0;\n                data[i] = data[i + 1] = data[i + 2] = v;\n            }\n            return imgData;\n        }\n        //连环画效果\n\n    }, {\n        key: 'comic',\n        value: function comic(imgData) {\n            imgData = imgData || this.getImageData();\n            var data = imgData.data,\n                r = void 0,\n                g = void 0,\n                b = void 0;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                r = data[i];g = data[i + 1];b = data[i + 2];\n                data[i] = Math.abs(g - b + g + r) * r / 256;\n                data[i + 1] = Math.abs(b - g + r + b) * r / 256;\n                data[i + 2] = Math.abs(b - g + r + b) * g / 256;\n            }\n            return imgData;\n        }\n        //怀旧风格\n\n    }, {\n        key: 'sepia',\n        value: function sepia(imgData) {\n            imgData = imgData || this.getImageData();\n            var data = imgData.data,\n                r = void 0,\n                g = void 0,\n                b = void 0;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                r = data[i];g = data[i + 1];b = data[i + 2];\n                data[i] = r * 0.393 + g * 0.769 + b * 0.189; // red\n                data[i + 1] = r * 0.349 + g * 0.686 + b * 0.168; // green\n                data[i + 2] = r * 0.272 + g * 0.534 + b * 0.131; // blue\n            }\n            return imgData;\n        }\n        //底片\n\n    }, {\n        key: 'invert',\n        value: function invert(imgData) {\n            imgData = imgData || this.getImageData();\n            var data = imgData.data;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                data[i] = 255 - data[i];\n                data[i + 1] = 255 - data[i + 1];\n                data[i + 2] = 255 - data[i + 2];\n            }\n            return imgData;\n        }\n        //加亮\n\n    }, {\n        key: 'brightness',\n        value: function brightness(imgData) {\n            var deta = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n\n            imgData = imgData || this.getImageData();\n            var data = imgData.data;\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                data[i] += deta;\n                data[i + 1] += deta;\n                data[i + 2] += deta;\n            }\n            return imgData;\n        }\n\n        //锐化\n\n    }, {\n        key: 'sharpen',\n        value: function sharpen(imgData) {\n            imgData = imgData || this.getImageData();\n            return this.conv([0, -1, 0, -1, 5, -1, 0, -1, 0], imgData);\n        }\n        //边缘检测\n\n    }, {\n        key: 'edgeDetection',\n        value: function edgeDetection(imgData) {\n            imgData = imgData || this.getImageData();\n            return this.conv([-1, -1, -1, -1, 8, -1, -1, -1, -1], this.gaussBlur(imgData));\n        }\n        //浮雕\n\n    }, {\n        key: 'embossing',\n        value: function embossing(imgData) {\n            imgData = imgData || this.getImageData();\n            return this.conv([1, 1, 1, 1, 0.7, -1, -1, -1, -1], imgData);\n        }\n\n        /**\r\n         * 高斯模糊\r\n         * 理论值遵循3σ原则，一般σ = radius/3，这里根据效果适当调大，在较小的阶数下也能有比较好的效果\r\n         *\r\n         * @param    {object}  imgData      要处理的imageData对象\r\n         * @param    {number}  radius       可选，卷积核半径，默认为1，\r\n         * @param    {number}  sigma        可选，卷积核的阶数，默认为radius\r\n         * @returns  {object}  outputImg    处理后的imageData对象\r\n         *\r\n         */\n\n    }, {\n        key: 'gaussBlur',\n        value: function gaussBlur(imgData) {\n            var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n            var sigma = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : radius;\n\n            imgData = imgData || this.getImageData();\n            var order = radius * 2 + 1,\n                a = -1 / (2 * sigma * sigma),\n                b = -a / Math.PI,\n                gaussMat = new Array(order * order),\n                gaussSum = 0;\n            for (var x = -radius, i = 0; x <= radius; x++) {\n                for (var y = -radius; y <= radius; y++, i++) {\n                    gaussMat[i] = b * Math.exp(a * (x * x + y * y));\n                    gaussSum += gaussMat[i];\n                }\n            }\n            return this.conv(gaussMat, imgData, order, gaussSum);\n        }\n        //素描\n\n    }, {\n        key: 'sketch',\n        value: function sketch(imgData) {\n            imgData = imgData || this.getImageData();\n            var imgGrey = this.greyScale(imgData),\n                //灰度去色\n            imgInvert = this.invert(this.copyImageData(imgGrey)),\n                //复制一份反向imgInvert\n            imgBlur = this.gaussBlur(imgInvert),\n                //对imgInvert进行高斯模糊\n            data = imgGrey.data,\n                dataBlur = imgBlur.data,\n                v1 = void 0,\n                v2 = void 0,\n                v = void 0,\n                k = void 0;\n            //颜色减淡\n            for (var i = 0, len = data.length; i < len; i += 4) {\n                for (var j = 0; j < 3; j++) {\n                    k = i + j;\n                    v1 = data[k];v2 = dataBlur[k];\n                    v = v1 + v1 * v2 / (255 - v2);\n                    v = v > 255 ? 255 : v;\n                    data[k] = v;\n                }\n            }\n            return imgGrey;\n        }\n\n        /**\r\n         * 卷积核应用\r\n         *\r\n         * @param    {array}   mat          卷积矩阵，一维数组表示\r\n         * @param    {object}  imgData      要处理的imageData对象\r\n         * @param    {number}  divisor      可选，对卷积后数值归一化系数，默认为1，\r\n         * @param    {number}  order        可选，卷积核的阶数，默认为3\r\n         * @returns  {object}  outputImg    处理后的imageData对象\r\n         *\r\n         */\n\n    }, {\n        key: 'conv',\n        value: function conv(mat, imgData) {\n            var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n            var divisor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n\n            imgData = imgData || this.getImageData();\n            var data = imgData.data,\n                w = this.width,\n                h = this.height,\n                outputImg = this.ctx.createImageData(w, h),\n                outData = outputImg.data,\n                radius = Math.floor(order / 2);\n\n            //先遍历图片像素(x, y)\n            for (var y = 0; y < h; y++) {\n                for (var x = 0; x < w; x++) {\n                    //遍历r,g,b三通道，做一样的处理\n                    for (var z = 0; z < 3; z++) {\n                        //中心点像素(x, y)在data中的索引\n                        var i = (y * w + x) * 4 + z;\n\n                        //边界处理使用最简单的方法，即不做处理\n                        if (x < radius || y < radius || x >= w - radius || y >= h - radius) {\n                            outData[i] = data[i];\n                        }\n                        //非边界处矩阵卷积\n                        else {\n                                //卷积和\n                                var convSum = 0,\n                                    matIndex = 0;\n                                //遍历矩阵行\n                                for (var m = -radius; m <= radius; m++) {\n                                    //矩阵列 (x-m,y)\n                                    var rowIndex = i + w * 4 * m;\n\n                                    for (var n = -radius; n <= radius; n++) {\n                                        //(x-m, y-n)\n                                        var colIndex = rowIndex + n * 4;\n                                        convSum += mat[matIndex] * data[colIndex];\n                                        matIndex++;\n                                    }\n                                }\n                                outData[i] = convSum / divisor;\n                            }\n                    }\n                    // 设置透明度\n                    outData[(y * w + x) * 4 + 3] = 255;\n                }\n            }\n            return outputImg;\n        }\n    }]);\n\n    return Filters;\n}();\n\nexports.default = Filters;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n    <meta charset=\\\"UTF-8\\\">\\r\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width\\\">\\r\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\\\">\\r\\n    <title>Canvas Images Processing</title>\\r\\n</head>\\r\\n<body>\\r\\n<header>\\r\\n    <div class=\\\"container\\\">\\r\\n        <h1>基于canvas的图像处理</h1>\\r\\n        <p>像素级操作，Web也能玩转图片&nbsp;&nbsp;&nbsp; @Ytime</p>\\r\\n    </div>\\r\\n</header>\\r\\n<!--预置滤镜-->\\r\\n<nav class=\\\"preset\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <ul id=\\\"filter-li\\\" class=\\\"clear\\\">\\r\\n            <li data-filter=\\\"getImageData\\\">原图</li>\\r\\n            <li data-filter=\\\"greyScale\\\">灰度</li>\\r\\n            <li data-filter=\\\"black\\\">黑白</li>\\r\\n            <li data-filter=\\\"comic\\\">连环画</li>\\r\\n            <li data-filter=\\\"sepia\\\">怀旧</li>\\r\\n            <li data-filter=\\\"invert\\\">底片</li>\\r\\n            <li data-filter=\\\"brightness\\\">加亮</li>\\r\\n            <li data-filter=\\\"sharpen\\\">锐化</li>\\r\\n            <li data-filter=\\\"edgeDetection\\\">边缘检测</li>\\r\\n            <li data-filter=\\\"embossing\\\">浮雕</li>\\r\\n            <li data-filter=\\\"gaussBlur\\\">模糊</li>\\r\\n            <li data-filter=\\\"sketch\\\">素描</li>\\r\\n\\r\\n        </ul>\\r\\n    </div>\\r\\n</nav>\\r\\n\\r\\n<!--图片显示-->\\r\\n<div id=\\\"wrapper\\\" class=\\\"container content\\\" title=\\\"拖拽新图片替换\\\" droppable=\\\"true\\\">\\r\\n    <canvas id=\\\"canvas\\\" class=\\\"init\\\">您的浏览器不支持canvas，请更换现代浏览器</canvas>\\r\\n    <div class=\\\"tip\\\">\\r\\n        <span>把图片拖拽到此处</span>\\r\\n    </div>\\r\\n    <!--卷积矩阵-->\\r\\n    <div class=\\\"mat-con\\\" id=\\\"mat-con\\\">\\r\\n        <div>\\r\\n            <input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"1\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\">\\r\\n        </div>\\r\\n        <div><button id=\\\"apply-btn\\\" title=\\\"矩阵卷积滤波\\\">应用</button></div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n</body>\\r\\n</html>\"\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.82b3c526260f8ae0f614.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 82b3c526260f8ae0f614","\r\nrequire(\"./index.html\");  //改变html，webpack-dev-server无法监听html，通过require方法通知\r\nimport \"./style/style.css\";\r\nimport Filters from './Filters.js';\r\n\r\n//获取id\r\nconst $ = function(id){\r\n    return \"string\" === typeof id ? document.getElementById(id) : id;\r\n}\r\n//获取页面元素\r\nlet oCanvas = $('canvas'),\r\n    oDropper = $('wrapper'),\r\n    oUl = $('filter-li'),\r\n    oMat = $('mat-con'),\r\n    oBtn = $('apply-btn'),\r\n    oCtx = oCanvas.getContext && oCanvas.getContext('2d'),\r\n    oFliter = null;\r\n\r\n//绑定事件\r\noUl.addEventListener('click', applyPresetFliter, false);\r\n//oDropper在dragenter阶段需要取消默认行为\r\noDropper.addEventListener('dragenter',preventDefault,false);\r\noDropper.addEventListener('dragover',preventDefault,false);\r\noDropper.addEventListener('drop', dropHandler, false);\r\n\r\noMat.addEventListener('input', checkInput, false);\r\noMat.addEventListener('keyup', postInput, false);\r\noBtn.addEventListener('click', applyMat, false);\r\n\r\n\r\n//取消默认事件\r\nfunction preventDefault(event){\r\n    let evt = event || window.event;\r\n    evt.preventDefault();\r\n}\r\nfunction clearActive(){\r\n    let tar = oUl.getElementsByClassName('active')[0];\r\n    if(tar){\r\n        tar.classList.remove('active');\r\n    }\r\n}\r\n//drop放置事件处理函数\r\nfunction dropHandler(event){\r\n    preventDefault(event);\r\n    //获取文件\r\n    let oFile = event.dataTransfer.files[0],\r\n        oReader = new FileReader();\r\n    //读取image\r\n    if(/image/.test(oFile.type)){\r\n\r\n        //取消拖放提示\r\n        this.classList.add('active');\r\n        //读完文件\r\n        oReader.onload = function(){\r\n            console.log(oFile)\r\n            //创建image对象保存图片\r\n            let oImg = new Image();\r\n\r\n            oImg.onload = function(){\r\n                let iWid = this.width,\r\n                    iHei = this.height;\r\n                oCanvas.classList.remove('init');\r\n                oMat.classList.add('active');\r\n                clearActive();\r\n                oCanvas.width = iWid;  //要注意使用canvasobj.width设置width，否则会图片会变形\r\n                oCanvas.height = iHei;\r\n                oCtx.drawImage(oImg, 0, 0, iWid, iHei);\r\n\r\n                //创建滤镜对象\r\n                oFliter = new Filters(this);\r\n\r\n            }\r\n            oImg.src = oReader.result;\r\n        }\r\n\r\n        oReader.readAsDataURL(oFile);\r\n\r\n    }\r\n\r\n}\r\n\r\n//应用预置滤镜\r\nfunction applyPresetFliter(event){\r\n    let tar = event.target || event.srcElement;\r\n    //事件委托\r\n    if (tar.tagName.toLocaleLowerCase() === 'li'){\r\n\r\n        let filterName = tar.getAttribute('data-filter');\r\n\r\n        if (oFliter){\r\n            clearActive()\r\n            oCtx.putImageData(oFliter[filterName](), 0, 0);\r\n            console.log('apply ' + filterName);\r\n            tar.classList.add('active');\r\n        }\r\n    }\r\n}\r\n\r\n//应用矩阵卷积\r\nfunction applyMat(){\r\n    let aInputs = oMat.getElementsByTagName('input'),\r\n        mat = [],\r\n        val;\r\n    for (let i = 0, len = aInputs.length; i < len; i++){\r\n        val = aInputs[i].value - 0;\r\n        if (Number.isNaN(val)){\r\n            val = 0;\r\n        }\r\n        aInputs[i].value = val;\r\n        mat.push(val);\r\n    }\r\n    clearActive();\r\n    oCtx.putImageData(oFliter.conv(mat), 0, 0);\r\n}\r\n\r\n//输入矩阵校验\r\nfunction checkInput(event){\r\n    let tar = event.target || event.srcElement;\r\n    if (tar.tagName.toLocaleLowerCase() === 'input'){\r\n        tar.value = tar.value.replace(/[^\\+\\/\\-\\d\\.]*/g,'');\r\n    }\r\n}\r\n//enter提交\r\nfunction postInput(event){\r\n    let tar = event.target || event.srcElement;\r\n    if (tar.tagName.toLocaleLowerCase() === 'input'){\r\n        if(event.keyCode === 13){\r\n            applyMat.apply(this);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style/style.css\n// module id = 1\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"/*css reset*/\\r\\n/**, *:before, *:after{*/\\r\\n    /*box-sizing: inherit;*/\\r\\n/*}*/\\r\\n/*html{*/\\r\\n    /*box-sizing: border-box;*/\\r\\n    /*font-size: 16px;*/\\r\\n/*}*/\\r\\nbody,div,ul,li{ margin:0;padding: 0; }\\r\\nli{ list-style: none; }\\r\\nimg{ border: 0 none; }\\r\\na{ text-decoration: none; }\\r\\n\\r\\n/*commom css*/\\r\\n.clear { zoom:1; }\\r\\n.clear:after { content:''; display:block; clear:both; }\\r\\n\\r\\n.container{ /*min-width: 500px;*/margin-left: auto;margin-right: auto;}\\r\\n@media (min-width: 768px){  .container {  width: 750px;  }  }\\r\\n@media (min-width: 992px){  .container {  width: 970px;  }    }\\r\\n@media (min-width: 1200px){  .container {  width: 1170px;  }  }\\r\\n.txt_center{  text-align: center;  }\\r\\n\\r\\n\\r\\n\\r\\n/*content css*/\\r\\nbody{\\r\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Microsoft Yahei,sans-serif;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\nheader{\\r\\n    padding: 1em 2em;\\r\\n    color: #cdbfe3;\\r\\n    text-shadow: 0 1px 0 rgba(0,0,0,.1);\\r\\n    background-color: #6f5499;\\r\\n    background-image: linear-gradient(to bottom,#563d7c 0,#6f5499 100%);\\r\\n}\\r\\n/*header .container{padding: 15px 30px;}*/\\r\\nheader h1{font-size: 30px;color: #fff;}\\r\\nheader p{font-size: 18px;}\\r\\n\\r\\n/*预置滤镜选项*/\\r\\n.preset{\\r\\n    /*margin-top: 20px;*/\\r\\n    background: #f5f5f5;\\r\\n    padding: 10px 0;\\r\\n}\\r\\n.preset ul{text-align: center;margin: 0 auto;}\\r\\n.preset li{\\r\\n    display: inline-block;\\r\\n    width: 10%;\\r\\n    min-width: 4em;\\r\\n    _float: left;\\r\\n    margin: 4px 6px;\\r\\n    padding: 6px 12px;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    border: 1px solid #000;\\r\\n\\r\\n}\\r\\n/*@media (max-width: 540px){*/\\r\\n    /*.preset li{*/\\r\\n        /*display: block;*/\\r\\n        /*float: none;*/\\r\\n    /*}*/\\r\\n/*}*/\\r\\n.preset li:hover,.preset .active{\\r\\n    background-color: #6f5499;\\r\\n    color: #fff;\\r\\n}\\r\\n.preset span{\\r\\n/*    display: table-cell;\\r\\n    float: left;\\r\\n    width: 100%;*/\\r\\n}\\r\\n\\r\\n/*图像显示部分*/\\r\\n/*画布背景*/\\r\\n.content{\\r\\n    margin-top: 20px;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n    border: 1px solid #C3C3C3;\\r\\n    background: #e9e9e9;\\r\\n    background-image: -webkit-linear-gradient(top, transparent 39px, rgba(200, 200, 200, 0.5) 40px), -webkit-linear-gradient(left, transparent 39px, rgba(200, 200, 200, 0.5) 40px);\\r\\n    background-size: 40px 40px;\\r\\n    /*max-height: 540px;*/\\r\\n    /*min-height: 300px;*/\\r\\n}\\r\\n/*画布*/\\r\\n/*画布默认大小*/\\r\\n.init{\\r\\n    width: 640px;\\r\\n    height: 480px;\\r\\n}\\r\\n.content canvas{\\r\\n    display: block;\\r\\n    margin: 0 auto;\\r\\n    border: 1px solid rgba(0,0,0,0.5);\\r\\n    background: #fff;\\r\\n}\\r\\n/*拖放提示*/\\r\\n.tip{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n}\\r\\n#wrapper.active .tip{\\r\\n    display: none;\\r\\n}\\r\\n/*用与canvas同大小的div作为放置目标*/\\r\\n/*#dropper{*/\\r\\n    /*display: none;*/\\r\\n    /*position: absolute;*/\\r\\n    /*width: 640px;*/\\r\\n    /*height: 480px;*/\\r\\n    /*top: 50%;*/\\r\\n    /*left: 50%;*/\\r\\n    /*margin: -240px -320px;*/\\r\\n    /*line-height: 480px;*/\\r\\n    /*text-align: center;*/\\r\\n    /*background: #ff0;           !*调试背景色*!*/\\r\\n/*}*/\\r\\n/*#dropper span{*/\\r\\n    /*display: none;*/\\r\\n/*}*/\\r\\n/*#dropper.active, #dropper.tip span{*/\\r\\n    /*display: block;*/\\r\\n/*}*/\\r\\n\\r\\n/*矩阵输入表单*/\\r\\n.mat-con {\\r\\n    /*display: none;*/\\r\\n    position: absolute;\\r\\n    z-index: 99;\\r\\n    top: 2em;\\r\\n    right: 2em;\\r\\n    /*bottom: 2em;*/\\r\\n    text-align: center;\\r\\n    background: rgba(0,0,0,0.4);\\r\\n}\\r\\n.mat-con.active{\\r\\n    display: block;\\r\\n}\\r\\n.mat-con div{\\r\\n    width: 10em;\\r\\n}\\r\\n.mat-con input{\\r\\n    width: 2em;\\r\\n    margin: 5px;\\r\\n}\\r\\n.mat-con button{\\r\\n    border: none;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n    padding: 4px 6px;\\r\\n    margin: 4px 0;\\r\\n    cursor: pointer;\\r\\n}\\r\\n.mat-con button:hover{\\r\\n    background: #fff;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./src/style/style.css\n// module id = 2\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/css-loader/lib/css-base.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/addStyles.js\n// module id = 4\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/style-loader/lib/urls.js","/**\r\n * Created by 风稻人 on 2017/7/1.\r\n */\r\n\r\nexport default class Filters {\r\n    //构造函数，每个实例保存原始图片数据\r\n    constructor(img){\r\n        //创建一个canvas保存原始图像\r\n        this.canvas = document.createElement('canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.img = img;\r\n        this.width = img.width;\r\n        this.height = img.height;\r\n        this.canvas.width = img.width;\r\n        this.canvas.height = img.height;\r\n        this.ctx.drawImage(this.img, 0, 0, this.width, this.height);\r\n    }\r\n    //获取图像数据\r\n    getImageData(x, y, w, h){\r\n        return this.ctx.getImageData(x || 0, y || 0, w || this.width, h || this.height);\r\n    }\r\n\r\n    //img图像数据通过canvas复制一份\r\n    copyImageData(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        let canvas =  document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            w = imgData.width,\r\n            h = imgData.height;\r\n        canvas.width = w;\r\n        canvas.height = h;\r\n        ctx.putImageData(imgData, 0, 0);\r\n        return ctx.getImageData(0, 0, w, h);\r\n    }\r\n    //灰度\r\n    greyScale(imgData) {\r\n        //图片像素数据\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data,\r\n            r, g, b, v;\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            r = data[i]; g = data[i + 1]; b = data[i + 2];\r\n            //加权取值\r\n            v = .299 * r + .587 * g + .114 * b;\r\n            data[i] = data[i + 1] = data[i + 2] = v;\r\n        }\r\n        return imgData;\r\n    }\r\n    //黑白效果，二值化\r\n    black(imgData, threshold = 100){\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data,\r\n            v;\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            //v = (.2 * data[i] + .7 * data[i + 1] + .1 * data[i + 2]) >= threshold ? 255 : 0;\r\n            v = (.3 * data[i] + .6 * data[i + 1] + .1 * data[i + 2]) >= threshold ? 255 : 0;\r\n            data[i] = data[i + 1] = data[i + 2] = v;\r\n        }\r\n        return imgData;\r\n    }\r\n    //连环画效果\r\n    comic(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data,\r\n            r, g, b;\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            r = data[i]; g = data[i + 1]; b = data[i + 2];\r\n            data[i]     = Math.abs((g - b + g + r)) * r /256;\r\n            data[i + 1] = Math.abs((b - g + r + b)) * r /256;\r\n            data[i + 2] = Math.abs((b - g + r + b)) * g /256;\r\n        }\r\n        return imgData;\r\n    }\r\n    //怀旧风格\r\n    sepia(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data,\r\n            r, g, b;\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            r = data[i]; g = data[i + 1]; b = data[i + 2];\r\n            data[i]     = (r * 0.393) + (g * 0.769) + (b * 0.189); // red\r\n            data[i + 1] = (r * 0.349) + (g * 0.686) + (b * 0.168); // green\r\n            data[i + 2] = (r * 0.272) + (g * 0.534) + (b * 0.131); // blue\r\n        }\r\n        return imgData;\r\n    }\r\n    //底片\r\n    invert(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            data[i]     = 255 - data[i];\r\n            data[i + 1] = 255 - data[i + 1];\r\n            data[i + 2] = 255 - data[i + 2];\r\n        }\r\n        return imgData;\r\n    }\r\n    //加亮\r\n    brightness(imgData, deta = 50){\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data;\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            data[i]     += deta;\r\n            data[i + 1] += deta;\r\n            data[i + 2] += deta;\r\n        }\r\n        return imgData;\r\n    }\r\n\r\n    //锐化\r\n    sharpen(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        return this.conv([0, -1, 0, -1, 5, -1, 0, -1, 0], imgData);\r\n    }\r\n    //边缘检测\r\n    edgeDetection(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        return this.conv([-1, -1, -1, -1, 8, -1, -1, -1, -1], this.gaussBlur(imgData));\r\n    }\r\n    //浮雕\r\n    embossing(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        return this.conv([1, 1, 1, 1, 0.7, -1, -1, -1, -1], imgData);\r\n    }\r\n\r\n    /**\r\n     * 高斯模糊\r\n     * 理论值遵循3σ原则，一般σ = radius/3，这里根据效果适当调大，在较小的阶数下也能有比较好的效果\r\n     *\r\n     * @param    {object}  imgData      要处理的imageData对象\r\n     * @param    {number}  radius       可选，卷积核半径，默认为1，\r\n     * @param    {number}  sigma        可选，卷积核的阶数，默认为radius\r\n     * @returns  {object}  outputImg    处理后的imageData对象\r\n     *\r\n     */\r\n    gaussBlur(imgData, radius = 1, sigma = radius){\r\n        imgData = imgData || this.getImageData();\r\n        let order = radius*2 + 1,\r\n            a = -1 / (2 * sigma * sigma),\r\n            b = -a / Math.PI,\r\n            gaussMat = new Array(order * order),\r\n            gaussSum = 0;\r\n        for (let x = -radius, i = 0; x <= radius; x++){\r\n            for (let y = -radius; y <= radius; y++, i++){\r\n                gaussMat[i] = b * Math.exp(a * (x*x + y*y));\r\n                gaussSum += gaussMat[i];\r\n            }\r\n        }\r\n        return this.conv(gaussMat, imgData, order, gaussSum);\r\n    }\r\n    //素描\r\n    sketch(imgData){\r\n        imgData = imgData || this.getImageData();\r\n        let imgGrey = this.greyScale(imgData),  //灰度去色\r\n            imgInvert = this.invert(this.copyImageData(imgGrey)),  //复制一份反向imgInvert\r\n            imgBlur = this.gaussBlur(imgInvert), //对imgInvert进行高斯模糊\r\n            data = imgGrey.data,\r\n            dataBlur = imgBlur.data,\r\n            v1, v2, v, k;\r\n        //颜色减淡\r\n        for(let i = 0, len = data.length; i < len; i += 4){\r\n            for (let j = 0; j < 3; j++){\r\n                k = i + j;\r\n                v1 = data[k]; v2 = dataBlur[k];\r\n                v = v1 + v1 * v2 / (255 - v2);\r\n                v = v > 255 ? 255 : v;\r\n                data[k] = v;\r\n            }\r\n\r\n        }\r\n        return imgGrey;\r\n    }\r\n\r\n\r\n    /**\r\n     * 卷积核应用\r\n     *\r\n     * @param    {array}   mat          卷积矩阵，一维数组表示\r\n     * @param    {object}  imgData      要处理的imageData对象\r\n     * @param    {number}  divisor      可选，对卷积后数值归一化系数，默认为1，\r\n     * @param    {number}  order        可选，卷积核的阶数，默认为3\r\n     * @returns  {object}  outputImg    处理后的imageData对象\r\n     *\r\n     */\r\n    conv(mat, imgData, order = 3, divisor = 1){\r\n\r\n        imgData = imgData || this.getImageData();\r\n        let data = imgData.data,\r\n            w = this.width,\r\n            h = this.height,\r\n            outputImg = this.ctx.createImageData(w, h),\r\n            outData = outputImg.data,\r\n            radius = Math.floor(order  / 2);\r\n\r\n        //先遍历图片像素(x, y)\r\n        for(let y = 0; y < h; y++){\r\n            for(let x = 0; x < w; x++){\r\n                //遍历r,g,b三通道，做一样的处理\r\n                for(let z = 0; z < 3; z++){\r\n                    //中心点像素(x, y)在data中的索引\r\n                    let i = (y * w + x) * 4 + z;\r\n\r\n                    //边界处理使用最简单的方法，即不做处理\r\n                    if (x < radius || y < radius || x >= w - radius || y >= h - radius){\r\n                        outData[i] = data[i];\r\n                    }\r\n                    //非边界处矩阵卷积\r\n                    else{\r\n                        //卷积和\r\n                        let convSum = 0,\r\n                            matIndex = 0;\r\n                        //遍历矩阵行\r\n                        for (let m = -radius; m <= radius; m++ ){\r\n                            //矩阵列 (x-m,y)\r\n                            let rowIndex = i + w*4*m;\r\n\r\n                            for (let n = -radius; n <= radius; n++){\r\n                                //(x-m, y-n)\r\n                                let colIndex = rowIndex + n*4;\r\n                                convSum += mat[matIndex] * data[colIndex];\r\n                                matIndex++;\r\n\r\n                            }\r\n                        }\r\n                        outData[i] = convSum / divisor;\r\n                    }\r\n                }\r\n                // 设置透明度\r\n                outData[(y * w + x) * 4 + 3] = 255;\r\n            }\r\n        }\r\n        return outputImg;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Filters.js","module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n    <meta charset=\\\"UTF-8\\\">\\r\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width\\\">\\r\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\\\">\\r\\n    <title>Canvas Images Processing</title>\\r\\n</head>\\r\\n<body>\\r\\n<header>\\r\\n    <div class=\\\"container\\\">\\r\\n        <h1>基于canvas的图像处理</h1>\\r\\n        <p>像素级操作，Web也能玩转图片&nbsp;&nbsp;&nbsp; @Ytime</p>\\r\\n    </div>\\r\\n</header>\\r\\n<!--预置滤镜-->\\r\\n<nav class=\\\"preset\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n        <ul id=\\\"filter-li\\\" class=\\\"clear\\\">\\r\\n            <li data-filter=\\\"getImageData\\\">原图</li>\\r\\n            <li data-filter=\\\"greyScale\\\">灰度</li>\\r\\n            <li data-filter=\\\"black\\\">黑白</li>\\r\\n            <li data-filter=\\\"comic\\\">连环画</li>\\r\\n            <li data-filter=\\\"sepia\\\">怀旧</li>\\r\\n            <li data-filter=\\\"invert\\\">底片</li>\\r\\n            <li data-filter=\\\"brightness\\\">加亮</li>\\r\\n            <li data-filter=\\\"sharpen\\\">锐化</li>\\r\\n            <li data-filter=\\\"edgeDetection\\\">边缘检测</li>\\r\\n            <li data-filter=\\\"embossing\\\">浮雕</li>\\r\\n            <li data-filter=\\\"gaussBlur\\\">模糊</li>\\r\\n            <li data-filter=\\\"sketch\\\">素描</li>\\r\\n\\r\\n        </ul>\\r\\n    </div>\\r\\n</nav>\\r\\n\\r\\n<!--图片显示-->\\r\\n<div id=\\\"wrapper\\\" class=\\\"container content\\\" title=\\\"拖拽新图片替换\\\" droppable=\\\"true\\\">\\r\\n    <canvas id=\\\"canvas\\\" class=\\\"init\\\">您的浏览器不支持canvas，请更换现代浏览器</canvas>\\r\\n    <div class=\\\"tip\\\">\\r\\n        <span>把图片拖拽到此处</span>\\r\\n    </div>\\r\\n    <!--卷积矩阵-->\\r\\n    <div class=\\\"mat-con\\\" id=\\\"mat-con\\\">\\r\\n        <div>\\r\\n            <input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"1\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\"><input type=\\\"text\\\" value=\\\"0\\\">\\r\\n        </div>\\r\\n        <div><button id=\\\"apply-btn\\\" title=\\\"矩阵卷积滤波\\\">应用</button></div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n</body>\\r\\n</html>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.html\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}